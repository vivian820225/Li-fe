{"version":3,"sources":["webpack:///./src/views/frontend/Discount.vue?9403","webpack:///./src/components/frontend/OverlayMask.vue?e23d","webpack:///src/components/frontend/OverlayMask.vue","webpack:///./src/components/frontend/OverlayMask.vue?ec46","webpack:///./src/components/frontend/OverlayMask.vue","webpack:///./src/views/frontend/Discount.vue?49fe","webpack:///src/views/frontend/Discount.vue","webpack:///./src/views/frontend/Discount.vue?c48c","webpack:///./src/views/frontend/Discount.vue","webpack:///./src/components/frontend/OverlayMask.vue?d975","webpack:///./src/components/frontend/TitleBanner.vue?58cf","webpack:///./src/components/frontend/TitleBanner.vue?c500","webpack:///src/components/frontend/TitleBanner.vue","webpack:///./src/components/frontend/TitleBanner.vue?d0d0","webpack:///./src/components/frontend/TitleBanner.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","overlayopen","on","$event","overlayClose","staticRenderFns","name","props","methods","$emit","component","attrs","title","bgImg","_v","_s","chance","noChance","pressHandler","_l","item","index","key","active","style","transform","transformHandler","domProps","text","rotateHandler","_m","winPrize","code","directives","rawName","value","expression","arg","copySuccess","showResult","_e","closeResult","data","windowWidth","document","documentElement","clientWidth","windowHeight","clientHeight","isPressed","degree","wellDone","prizes","components","TitleBanner","OverlayMask","mounted","window","addEventListener","setDimensions","beforeDestroy","removeEventListener","translate","location","generateIndex","i","count","indexArray","push","getRandomNumber","idx","num","undefined","rotate","setTimeout","$bus","clipboardErrorHandler","alert","titleText"],"mappings":"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","file":"js/chunk-240cbc73.c4d161ee.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discount.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"overlay\",class:{'show': _vm.overlayopen},on:{\"click\":function($event){return _vm.overlayClose()}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"overlay\"\n    :class=\"{'show': overlayopen}\"\n    @click=\"overlayClose()\">\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'OverlayMask',\n  props: ['overlayopen'],\n  methods: {\n    overlayClose() {\n      this.$emit('overlayclose');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.overlay {\n  display: none;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, .5);\n  z-index: 99;\n  &.show {\n    display: block;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverlayMask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverlayMask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OverlayMask.vue?vue&type=template&id=1b2acae8&\"\nimport script from \"./OverlayMask.vue?vue&type=script&lang=js&\"\nexport * from \"./OverlayMask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OverlayMask.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-screen-xl mx-auto xl:px-0 lg:px-8 px-4\"},[_c('TitleBanner',{staticClass:\"md:mb-12 mb-6\",attrs:{\"titleText\":_vm.title,\"bgImg\":_vm.bgImg}}),_c('div',{staticClass:\"block text-center sm:mb-12 mb-4\"},[_c('p',{staticClass:\"font-bold sm:text-2xl text-lg mb-2\"},[_vm._v(\" - 快來試試手氣，立即獲得優惠 - \")]),_c('p',{staticClass:\"font-bold md:text-3xl sm:text-2xl text-xl mb-4\"},[_vm._v(\" 您尚有 \"),_c('span',{staticClass:\"px-1 font-ubu text-primary-dark\"},[_vm._v(\" \"+_vm._s(_vm.chance)+\" \")]),_vm._v(\" 機會可以使用 \")]),_c('button',{staticClass:\"btn sm:w-64 w-48 bg-primary-default text-lg\",class:{'bg-primary-light text-gray-500 cursor-not-allowed': _vm.noChance},attrs:{\"type\":\"button\",\"disabled\":_vm.noChance},on:{\"click\":function($event){return _vm.pressHandler()}}},[_vm._v(\" 試試手氣 \")])]),_c('div',{staticClass:\"wheel-wrapper mb-8 md:mb-28\"},[_c('div',{attrs:{\"id\":\"wheel\"}},[_c('ul',{staticClass:\"prize-box\"},_vm._l((_vm.prizes),function(item,index){return _c('li',{key:index,staticClass:\"prize\",class:{ active: _vm.active === index },style:({ transform: _vm.transformHandler(index, 'prize') })},[_c('div',{staticClass:\"prize-content\",style:({ transform: _vm.transformHandler(index, 'content') })},[_c('div',{staticClass:\"prize-icon\"},[_c('img',{attrs:{\"src\":(\"\" + (item.icon)),\"alt\":\"\"}})]),_c('div',{staticClass:\"prize-text\",domProps:{\"innerHTML\":_vm._s(item.text)}})])])}),0),_c('div',{style:({ transform: _vm.rotateHandler() }),attrs:{\"id\":\"hand\"},on:{\"click\":function($event){return _vm.pressHandler()}}},[_c('button',{staticClass:\"press\"},[_vm._v(\"GO\")])])])]),(_vm.showResult)?_c('div',{staticClass:\"result-module\"},[_c('div',{staticClass:\"box text-center relative\"},[(_vm.wellDone)?_c('div',{staticClass:\"box-wrapper\",attrs:{\"id\":\"good\"}},[_vm._m(0),_c('p',{staticClass:\"font-bold sm:text-3xl text-xl text-center mb-4\"},[_vm._v(\" - 恭喜您獲得 - \")]),_c('div',{staticClass:\"box-content\"},[_c('p',{staticClass:\"md:text-2xl text-xl text-center font-ubu border-2 bg-gray-100\\n            mb-4 py-2 px-4\"},[_vm._v(\" \"+_vm._s(_vm.winPrize.code)+\" \")]),_c('p',{staticClass:\"font-bold md:text-5xl text-3xl text-center sm:mb-8 mb-4\"},[_vm._v(\" \"+_vm._s(_vm.winPrize.text)+\" \")]),_c('button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.winPrize.code),expression:\"winPrize.code\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:error\",value:(_vm.clipboardErrorHandler),expression:\"clipboardErrorHandler\",arg:\"error\"}],staticClass:\"btn bg-primary-default w-full shadow-lg\\n            hover:shadow-none hover:bg-primary-dark transition\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.copySuccess}},[_vm._v(\" 立即使用 \")])])]):_c('div',{staticClass:\"box-wrapper\",attrs:{\"id\":\"bad\"}},[_vm._m(1),_c('p',{staticClass:\"font-bold sm:text-3xl text-xl text-center mb-4\"},[_vm._v(\" - 很可惜您獲得 - \")]),_c('div',{staticClass:\"box-content\"},[_c('p',{staticClass:\"font-bold md:text-5xl text-3xl text-center sm:mb-8 mb-4\"},[_vm._v(\" \"+_vm._s(_vm.winPrize.text)+\" \")]),_c('button',{staticClass:\"text-primary-default underline mb-4\\n            hover:text-primary-dark transition\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showResult = !_vm.showResult}}},[_vm._v(\" 回活動頁面 \")]),_c('router-link',{staticClass:\"btn bg-primary-default w-full shadow-lg\\n            hover:shadow-none hover:bg-primary-dark transition\",attrs:{\"to\":\"/\"}},[_vm._v(\" 回首頁 \")])],1)]),_c('button',{staticClass:\"close-button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showResult = !_vm.showResult}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" close \")])])])]):_vm._e(),_c('OverlayMask',{attrs:{\"overlayopen\":_vm.showResult},on:{\"overlayclose\":function($event){return _vm.closeResult()}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":\"images/icon/icon-giftcard.svg\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":\"images/icon/icon-sad.svg\",\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"max-w-screen-xl mx-auto xl:px-0 lg:px-8 px-4\">\n    <TitleBanner\n    :titleText=\"title\"\n    :bgImg=\"bgImg\"\n    class=\"md:mb-12 mb-6\" />\n    <div class=\"block text-center sm:mb-12 mb-4\">\n      <p\n        class=\"font-bold sm:text-2xl text-lg mb-2\"\n      >\n        - 快來試試手氣，立即獲得優惠 -\n      </p>\n      <p class=\"font-bold md:text-3xl sm:text-2xl text-xl mb-4\">\n        您尚有\n        <span class=\"px-1 font-ubu text-primary-dark\">\n          {{ chance }}\n        </span>\n        機會可以使用\n      </p>\n      <button\n        type=\"button\"\n        class=\"btn sm:w-64 w-48 bg-primary-default text-lg\"\n        :class=\"{'bg-primary-light text-gray-500 cursor-not-allowed': noChance}\"\n        @click=\"pressHandler()\"\n        :disabled=\"noChance\"\n      >\n        試試手氣\n      </button>\n    </div>\n    <div class=\"wheel-wrapper mb-8 md:mb-28\">\n      <div id=\"wheel\">\n        <ul class=\"prize-box\">\n          <li\n            class=\"prize\"\n            :class=\"{ active: active === index }\"\n            :style=\"{ transform: transformHandler(index, 'prize') }\"\n            v-for=\"(item, index) in prizes\"\n            :key=\"index\"\n          >\n            <div\n              class=\"prize-content\"\n              :style=\"{ transform: transformHandler(index, 'content') }\"\n            >\n              <div class=\"prize-icon\">\n                <img :src=\"`${item.icon}`\" alt=\"\" />\n              </div>\n              <div class=\"prize-text\" v-html=\"item.text\"></div>\n            </div>\n          </li>\n        </ul>\n        <div\n          id=\"hand\"\n          @click=\"pressHandler()\"\n          :style=\"{ transform: rotateHandler() }\"\n        >\n          <button class=\"press\">GO</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"result-module\" v-if=\"showResult\">\n      <div class=\"box text-center relative\">\n        <div\n          id=\"good\"\n          class=\"box-wrapper\"\n          v-if=\"wellDone\"\n        >\n          <span class=\"icon\"><img src=\"images/icon/icon-giftcard.svg\" alt=\"\"></span>\n          <p class=\"font-bold sm:text-3xl text-xl text-center mb-4\">\n            - 恭喜您獲得 -\n          </p>\n          <div class=\"box-content\">\n             <p class=\"md:text-2xl text-xl text-center font-ubu border-2 bg-gray-100\n              mb-4 py-2 px-4\">\n              {{ winPrize.code }}\n            </p>\n            <p class=\"font-bold md:text-5xl text-3xl text-center sm:mb-8 mb-4\">\n              {{ winPrize.text }}\n            </p>\n            <button\n              type=\"button\"\n              class=\"btn bg-primary-default w-full shadow-lg\n              hover:shadow-none hover:bg-primary-dark transition\"\n              v-clipboard:copy=\"winPrize.code\"\n              @click=\"copySuccess\"\n              v-clipboard:error=\"clipboardErrorHandler\"\n            >\n              立即使用\n            </button>\n          </div>\n        </div>\n        <div\n        id=\"bad\"\n        class=\"box-wrapper\"\n        v-else\n        >\n          <span class=\"icon\"><img src=\"images/icon/icon-sad.svg\" alt=\"\"></span>\n          <p class=\"font-bold sm:text-3xl text-xl text-center mb-4\">\n            - 很可惜您獲得 -\n          </p>\n          <div class=\"box-content\">\n            <p class=\"font-bold md:text-5xl text-3xl text-center sm:mb-8 mb-4\">\n              {{ winPrize.text }}\n            </p>\n            <button\n              type=\"button\"\n              class=\"text-primary-default underline mb-4\n              hover:text-primary-dark transition\"\n              @click=\"showResult = !showResult\"\n            >\n              回活動頁面\n            </button>\n            <router-link\n              to=\"/\"\n              class=\"btn bg-primary-default w-full shadow-lg\n              hover:shadow-none hover:bg-primary-dark transition\"\n            >\n              回首頁\n            </router-link>\n          </div>\n        </div>\n        <button\n          class=\"close-button\"\n          type=\"button\"\n          @click=\"showResult = !showResult\"\n        >\n          <span class=\"material-icons\">\n            close\n          </span>\n        </button>\n      </div>\n    </div>\n    <OverlayMask\n    :overlayopen=\"showResult\"\n    @overlayclose=\"closeResult()\"/>\n  </div>\n</template>\n\n<script>\nimport TitleBanner from '@/components/frontend/TitleBanner.vue';\nimport OverlayMask from '@/components/frontend/OverlayMask.vue';\n\nexport default {\n  name: 'Discount',\n  data() {\n    return {\n      title: '優惠活動',\n      bgImg: 'images/bg-event.jpg',\n      windowWidth: document.documentElement.clientWidth,\n      windowHeight: document.documentElement.clientHeight,\n      showResult: false,\n      isPressed: false,\n      degree: 0,\n      active: -1,\n      chance: 3,\n      noChance: false,\n      winPrize: {\n        text: '',\n        code: '',\n      },\n      wellDone: false,\n      prizes: [\n        {\n          icon: 'images/icon/icon-money.svg',\n          text: '9折<br/>優惠券',\n          value: '9折優惠券',\n          code: 'life_0090',\n          count: 10,\n        },\n        {\n          icon: 'images/icon/icon-money.svg',\n          text: '5折<br/>優惠券',\n          value: '5折優惠券',\n          code: 'life_0050',\n          count: 5,\n        },\n        {\n          icon: 'images/icon/icon-dissatisfied.svg',\n          text: '銘謝惠顧',\n          value: '銘謝惠顧',\n          code: '',\n          count: 15,\n        },\n        {\n          icon: 'images/icon/icon-sad.svg',\n          text: '含淚說掰',\n          value: '含淚說掰',\n          count: 10,\n        },\n        {\n          icon: 'images/icon/icon-restar.svg',\n          text: '下回再見',\n          value: '下回再見',\n          code: '',\n          count: 15,\n        },\n        {\n          icon: 'images/icon/icon-giftcard.svg',\n          text: '95折<br/>優惠券',\n          value: '95折優惠券',\n          code: 'life_0095',\n          count: 10,\n        },\n      ],\n\n    };\n  },\n  components: {\n    TitleBanner,\n    OverlayMask,\n  },\n  mounted() {\n    window.addEventListener('resize', this.setDimensions);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.setDimensions);\n  },\n  methods: {\n    setDimensions() {\n      this.windowWidth = document.documentElement.clientWidth;\n      this.windowHeight = document.documentElement.clientHeight;\n    },\n    transformHandler(index, location) {\n      const len = this.prizes.length;\n      const rotate = 360 / len;\n      const rotateFrom = -rotate / 2;\n      const skewY = rotate - 90;\n      let translate = '';\n\n      if (this.windowWidth < 620) {\n        translate = 'translate(34px, 50px)';\n      } else {\n        translate = 'translate(53px, 50px)';\n      }\n      if (location === 'prize') {\n        return `rotate(${rotateFrom + index * rotate}deg) skewY(${skewY}deg)`;\n      }\n      if (location === 'content') {\n        return `skewY(${90 - rotate}deg) rotate(${rotate / 2}deg) ${translate}`;\n      }\n\n      return translate;\n    },\n    generateIndex(data) {\n      const indexArray = [];\n      for (let i = 0; i < data.length; i += 1) {\n        if (data[i].count !== 0) indexArray.push(i);\n      }\n      return indexArray;\n    },\n    getRandomNumber(data) {\n      const idx = this.generateIndex(data);\n      const num = Math.floor(Math.random() * idx.length);\n      return idx[num];\n    },\n    pressHandler() {\n      if (this.isPressed) return;\n\n      if (!this.noChance) {\n        const data = this.prizes;\n        const idx = this.getRandomNumber(data);\n        if (idx === undefined) return;\n\n        this.isPressed = true;\n        this.active = -1;\n        const circle = 6;\n        const len = data.length;\n        const rotate = circle * 360 + idx * (360 / len);\n        this.degree += rotate - (this.degree % 360);\n\n        setTimeout(() => {\n          this.active = idx;\n          if (data[idx].count > 0) {\n            data[idx].count -= 1;\n          }\n          this.winPrize.text = this.prizes[idx].value;\n          this.winPrize.code = this.prizes[idx].code;\n\n          switch (this.winPrize.text) {\n            case '9折優惠券':\n            case '5折優惠券':\n            case '不限金額免運':\n              this.wellDone = true;\n              break;\n            default:\n              this.wellDone = false;\n          }\n          this.showResult = true;\n          this.isPressed = false;\n        }, 6000);\n\n        this.chance -= 1;\n        if (this.chance < 1) this.noChance = true;\n      }\n    },\n    rotateHandler() {\n      return `rotate(${this.degree}deg)`;\n    },\n    closeResult() {\n      this.showResult = false;\n    },\n    copySuccess() {\n      this.$bus.$emit('message:push', '已複製代碼', 'success');\n    },\n    clipboardErrorHandler() {\n      // eslint-disable-next-line no-alert\n      alert('發生錯誤，請直接選取代碼複製');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n  @import '@/assets/scss/layout/_wheel.scss';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Discount.vue?vue&type=template&id=76b8a202&\"\nimport script from \"./Discount.vue?vue&type=script&lang=js&\"\nexport * from \"./Discount.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Discount.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverlayMask.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBanner.vue?vue&type=style&index=0&id=87d44bf0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"banner\",style:({'background-image': 'url(' + _vm.bgImg + ')' })},[_c('h1',[_vm._v(_vm._s(_vm.titleText))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"banner\" :style=\"{'background-image': 'url(' + bgImg + ')' }\">\n    <h1>{{ titleText }}</h1>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TitleBanner',\n  props: ['titleText', 'bgImg'],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .banner {\n    background-repeat: no-repeat;\n    background-position: left center;\n    background-size: cover;\n    @apply rounded-lg;\n  }\n  h1 {\n    @apply text-xl font-bold px-6 py-4 text-left ;\n  }\n\n  @screen md {\n    h1 {\n      @apply text-4xl p-12;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBanner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBanner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TitleBanner.vue?vue&type=template&id=87d44bf0&scoped=true&\"\nimport script from \"./TitleBanner.vue?vue&type=script&lang=js&\"\nexport * from \"./TitleBanner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TitleBanner.vue?vue&type=style&index=0&id=87d44bf0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87d44bf0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}